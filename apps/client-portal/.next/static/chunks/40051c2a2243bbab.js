(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,i)=>{t.exports=e.r(76562)},76695,e=>{"use strict";async function t(e){let t=await e.json().catch(()=>({}));if(!e.ok)throw Error("string"==typeof t?.error?t.error:"string"==typeof t?.details?t.details:`Request failed (${e.status})`);return t}async function i(e){return t(await fetch("/api/portal/auth/signup",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(e)}))}async function r(e){return t(await fetch("/api/portal/auth/login",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(e)}))}async function a(){return t(await fetch("/api/portal/auth/logout",{method:"POST",credentials:"include"}))}async function n(){return t(await fetch("/api/portal/auth/me",{method:"GET",credentials:"include",cache:"no-store"}))}async function o(e){return t(await fetch(`/api/portal/auth/verify-email?token=${encodeURIComponent(e)}`,{method:"GET",credentials:"include",cache:"no-store"}))}e.s(["getPortalMe",()=>n,"loginPortal",()=>r,"logoutPortal",()=>a,"signupPortal",()=>i,"verifyPortalEmail",()=>o])},85265,e=>{"use strict";var t=e.i(43476),i=e.i(22016),r=e.i(71645),a=e.i(18566),n=e.i(76695);function o(){let e=(0,a.useSearchParams)(),o=(0,a.useRouter)(),l=e.get("token")||"",[s,c]=(0,r.useState)(l?"loading":"error"),[u,d]=(0,r.useState)(l?"Verifying your email...":"Verification token is missing.");return(0,r.useEffect)(()=>{let e=!0;if(l)return(0,n.verifyPortalEmail)(l).then(()=>{e&&(c("ok"),d("Your email has been verified successfully."))}).catch(t=>{if(!e)return;let i=String(t?.message||"Verification failed");i.includes("TOKEN_INVALID_OR_EXPIRED")?d("This verification link is invalid or expired."):d(i),c("error")}),()=>{e=!1}},[l]),(0,t.jsx)("section",{className:"bat-shell grid min-h-[70vh] place-items-center py-12",children:(0,t.jsxs)("div",{className:"bat-surface w-full max-w-md p-7",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Verify your email"}),(0,t.jsx)("p",{className:"mt-3 text-sm",style:{color:"error"===s?"#9f2317":"var(--bat-text-muted)"},children:u}),(0,t.jsxs)("div",{className:"mt-5 flex gap-2",children:["ok"===s?(0,t.jsx)("button",{type:"button",className:"rounded-full px-4 py-2 text-sm font-semibold",style:{background:"var(--bat-accent)",color:"white"},onClick:()=>o.push("/login?verified=1"),children:"Go to login"}):null,(0,t.jsx)(i.default,{href:"/login",className:"rounded-full border px-4 py-2 text-sm",style:{borderColor:"var(--bat-border)"},children:"Back to login"})]})]})})}e.s(["VerifyEmailPageClient",()=>o])}]);