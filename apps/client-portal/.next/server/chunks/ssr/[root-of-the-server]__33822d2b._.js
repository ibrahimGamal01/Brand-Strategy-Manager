module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},6810,a=>{"use strict";async function b(a){let b=await a.json().catch(()=>({}));if(!a.ok)throw Error("string"==typeof b?.error?b.error:"string"==typeof b?.details?b.details:`Request failed (${a.status})`);return b}async function c(a){return b(await fetch("/api/portal/auth/signup",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}))}async function d(a){return b(await fetch("/api/portal/auth/login",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify(a)}))}async function e(){return b(await fetch("/api/portal/auth/logout",{method:"POST",credentials:"include"}))}async function f(){return b(await fetch("/api/portal/auth/me",{method:"GET",credentials:"include",cache:"no-store"}))}async function g(a){return b(await fetch(`/api/portal/auth/verify-email?token=${encodeURIComponent(a)}`,{method:"GET",credentials:"include",cache:"no-store"}))}a.s(["getPortalMe",()=>f,"loginPortal",()=>d,"logoutPortal",()=>e,"signupPortal",()=>c,"verifyPortalEmail",()=>g])},8513,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944),f=a.i(6810);function g(){let a=(0,e.useSearchParams)(),g=(0,e.useRouter)(),h=a.get("token")||"",[i,j]=(0,d.useState)(h?"loading":"error"),[k,l]=(0,d.useState)(h?"Verifying your email...":"Verification token is missing.");return(0,d.useEffect)(()=>{let a=!0;if(h)return(0,f.verifyPortalEmail)(h).then(()=>{a&&(j("ok"),l("Your email has been verified successfully."))}).catch(b=>{if(!a)return;let c=String(b?.message||"Verification failed");c.includes("TOKEN_INVALID_OR_EXPIRED")?l("This verification link is invalid or expired."):l(c),j("error")}),()=>{a=!1}},[h]),(0,b.jsx)("section",{className:"bat-shell grid min-h-[70vh] place-items-center py-12",children:(0,b.jsxs)("div",{className:"bat-surface w-full max-w-md p-7",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:"Verify your email"}),(0,b.jsx)("p",{className:"mt-3 text-sm",style:{color:"error"===i?"#9f2317":"var(--bat-text-muted)"},children:k}),(0,b.jsxs)("div",{className:"mt-5 flex gap-2",children:["ok"===i?(0,b.jsx)("button",{type:"button",className:"rounded-full px-4 py-2 text-sm font-semibold",style:{background:"var(--bat-accent)",color:"white"},onClick:()=>g.push("/login?verified=1"),children:"Go to login"}):null,(0,b.jsx)(c.default,{href:"/login",className:"rounded-full border px-4 py-2 text-sm",style:{borderColor:"var(--bat-border)"},children:"Back to login"})]})]})})}a.s(["VerifyEmailPageClient",()=>g])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__33822d2b._.js.map