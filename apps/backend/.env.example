# OpenAI API
OPENAI_API_KEY=OPENAI_API_KEY_FROM_SECRET_MANAGER

# AI mode
AI_FALLBACK_MODE=off               # Use "mock" only in non-production local testing
MAX_TOKENS_PER_CALL=4000            # Maximum tokens per API call
MONTHLY_AI_BUDGET=200.00            # Monthly budget in USD ($200 = ~100 businesses)
COST_ALERT_THRESHOLD=150.00         # Alert when costs exceed this ($150 = 75% of budget)

# Node Environment
NODE_ENV=development

# Database
DATABASE_URL=postgresql://user:password@localhost:5433/dbname

# Apify (Instagram scraping + media URL resolving)
APIFY_API_TOKEN=APIFY_API_TOKEN_FROM_SECRET_MANAGER
APIFY_ACTOR_ID=apify~instagram-api-scraper
APIFY_MEDIA_DOWNLOADER_TOKEN=APIFY_MEDIA_DOWNLOADER_TOKEN_FROM_SECRET_MANAGER
APIFY_MEDIA_DOWNLOADER_ACTOR_ID=igview-owner~instagram-video-downloader

# Continuity loop (auto-continue scraping)
RESEARCH_CONTINUITY_POLL_MS=60000

# Research event persistence + retention
RESEARCH_EVENTS_RETENTION_DAYS=30
RESEARCH_EVENTS_MAX_PER_JOB=5000
RESEARCH_EVENTS_PRUNE_INTERVAL_MS=21600000

# Social media download controls (keeps continue cycles responsive)
SOCIAL_MEDIA_DOWNLOAD_POST_LIMIT=8
SOCIAL_MEDIA_MAX_FAILURES=3
SOCIAL_MEDIA_FAILURE_COOLDOWN_MS=43200000
ENABLE_TIKTOK_PAGE_DOWNLOAD=false

# Expected Costs Per Business:
# - 12 AI Questions: ~$1.12 (one-time per research job)
# - Document Generation: ~$0.48 (per strategy document)
# - Total: ~$1.60 per complete brand strategy
# 
# Budget of $200/month supports approximately:
# - 100 businesses with 25% safety margin
# - Or 125 businesses at full capacity
